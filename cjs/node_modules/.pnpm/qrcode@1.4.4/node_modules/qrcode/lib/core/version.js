"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../../../../../_virtual/version.js");require("./utils.js"),require("./error-correction-code.js"),require("./error-correction-level.js"),require("./mode.js"),require("./version-check.js");var e=require("../../../../../isarray@2.0.5/node_modules/isarray/index.js"),t=require("../../../../../../../_virtual/utils2.js"),o=require("../../../../../../../_virtual/error-correction-code.js"),i=require("../../../../../../../_virtual/error-correction-level.js"),n=require("../../../../../../../_virtual/mode.js"),u=require("../../../../../../../_virtual/version-check.js");!function(r){var a=t.__exports,s=o.__exports,c=i.__exports,l=n.__exports,f=u.__exports,d=e.default,v=a.getBCHDigit(7973);function _(r,e){return l.getCharCountIndicator(r,e)+4}function g(r,e){var t=0;return r.forEach((function(r){var o=_(r.mode,e);t+=o+r.getBitsLength()})),t}r.from=function(r,e){return f.isValid(r)?parseInt(r,10):e},r.getCapacity=function(r,e,t){if(!f.isValid(r))throw new Error("Invalid QR Code version");void 0===t&&(t=l.BYTE);var o=8*(a.getSymbolTotalCodewords(r)-s.getTotalCodewordsCount(r,e));if(t===l.MIXED)return o;var i=o-_(t,r);switch(t){case l.NUMERIC:return Math.floor(i/10*3);case l.ALPHANUMERIC:return Math.floor(i/11*2);case l.KANJI:return Math.floor(i/13);case l.BYTE:default:return Math.floor(i/8)}},r.getBestVersionForData=function(e,t){var o,i=c.from(t,c.M);if(d(e)){if(e.length>1)return function(e,t){for(var o=1;o<=40;o++)if(g(e,o)<=r.getCapacity(o,t,l.MIXED))return o}(e,i);if(0===e.length)return 1;o=e[0]}else o=e;return function(e,t,o){for(var i=1;i<=40;i++)if(t<=r.getCapacity(i,o,e))return i}(o.mode,o.getLength(),i)},r.getEncodedBits=function(r){if(!f.isValid(r)||r<7)throw new Error("Invalid QR Code version");for(var e=r<<12;a.getBCHDigit(e)-v>=0;)e^=7973<<a.getBCHDigit(e)-v;return r<<12|e}}(r.__exports),exports.default=r.__exports;
