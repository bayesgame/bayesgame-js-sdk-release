"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../../../../_virtual/server.js"),e=require("./can-promise.js");require("./core/qrcode.js"),require("./renderer/png.js"),require("./renderer/utf8.js"),require("./renderer/terminal.js"),require("./renderer/svg.js");var t=require("./browser.js"),n=require("../../../../../../_virtual/qrcode.js"),o=require("../../../../../../_virtual/png.js"),u=require("../../../../../../_virtual/utf8.js"),i=require("../../../../../../_virtual/terminal.js"),s=require("../../../../../../_virtual/svg.js"),a=e.default,c=n.__exports,f=o.__exports,p=u.__exports,_=i.__exports,l=s.__exports;function d(r,e,t){if(void 0===r)throw new Error("String required as first argument");if(void 0===t&&(t=e,e={}),"function"!=typeof t){if(!a())throw new Error("Callback required as last argument");e=t||{},t=null}return{opts:e,cb:t}}function v(r){switch(r){case"svg":return l;case"txt":case"utf8":return p;default:return f}}function g(r,e,t){if(!t.cb)return new Promise((function(n,o){try{var u=c.create(e,t.opts);return r(u,t.opts,(function(r,e){return r?o(r):n(e)}))}catch(r){o(r)}}));try{var n=c.create(e,t.opts);return r(n,t.opts,t.cb)}catch(r){t.cb(r)}}r.__exports.create=c.create,r.__exports.toCanvas=t.__require().toCanvas,r.__exports.toString=function(r,e,t){var n=d(r,e,t);return g(function(r){switch(r){case"svg":return l;case"terminal":return _;default:return p}}(n.opts.type).render,r,n)},r.__exports.toDataURL=function(r,e,t){var n=d(r,e,t);return g(v(n.opts.type).renderToDataURL,r,n)},r.__exports.toBuffer=function(r,e,t){var n=d(r,e,t);return g(v(n.opts.type).renderToBuffer,r,n)},r.__exports.toFile=function(r,e,t,n){if("string"!=typeof r||"string"!=typeof e&&"object"!=typeof e)throw new Error("Invalid argument");if(arguments.length<3&&!a())throw new Error("Too few arguments provided");var o=d(e,t,n),u=o.opts.type||function(r){return r.slice(2+(r.lastIndexOf(".")-1>>>0)).toLowerCase()}(r);return g(v(u).renderToFile.bind(null,r),e,o)},r.__exports.toFileStream=function(r,e,t){if(arguments.length<2)throw new Error("Too few arguments provided");var n=d(e,t,r.emit.bind(r,"error"));g(v("png").renderToFileStream.bind(null,r),e,n)},exports.default=r.__exports;
