"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("./error.js"),e=require("./constants.js");function o(r=3){return Date.now()*Math.pow(10,r)+Math.floor(Math.random()*Math.pow(10,r))}function t(o,t){return void 0===o?r.getError(e.INTERNAL_ERROR):("string"==typeof o&&(o=Object.assign(Object.assign({},r.getError(e.SERVER_ERROR)),{message:o})),void 0!==t&&(o.data=t),r.isReservedErrorCode(o.code)&&(o=r.getErrorByCode(o.code)),o)}exports.formatErrorMessage=t,exports.formatJsonRpcError=function(r,e,o){return{id:r,jsonrpc:"2.0",error:t(e,o)}},exports.formatJsonRpcRequest=function(r,e,t){return{id:t||o(),jsonrpc:"2.0",method:r,params:e}},exports.formatJsonRpcResult=function(r,e){return{id:r,jsonrpc:"2.0",result:e}},exports.getBigIntRpcId=function(r=6){return BigInt(o(r))},exports.payloadId=o;
