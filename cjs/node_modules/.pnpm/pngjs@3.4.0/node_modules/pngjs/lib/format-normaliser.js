"use strict";Object.defineProperty(exports,"__esModule",{value:!0});exports.default=function(r,o){var t=o.depth,e=o.width,f=o.height,a=o.colorType,n=o.transColor,v=o.palette,i=r;return 3===a?function(r,o,t,e,f){for(var a=0,n=0;n<e;n++)for(var v=0;v<t;v++){var i=f[r[a]];if(!i)throw new Error("index "+r[a]+" not in palette");for(var u=0;u<4;u++)o[a+u]=i[u];a+=4}}(r,i,e,f,v):(n&&function(r,o,t,e,f){for(var a=0,n=0;n<e;n++)for(var v=0;v<t;v++){var i=!1;if(1===f.length?f[0]===r[a]&&(i=!0):f[0]===r[a]&&f[1]===r[a+1]&&f[2]===r[a+2]&&(i=!0),i)for(var u=0;u<4;u++)o[a+u]=0;a+=4}}(r,i,e,f,n),8!==t&&(16===t&&(i=new Buffer(e*f*4)),function(r,o,t,e,f){for(var a=Math.pow(2,f)-1,n=0,v=0;v<e;v++)for(var i=0;i<t;i++){for(var u=0;u<4;u++)o[n+u]=Math.floor(255*r[n+u]/a+.5);n+=4}}(r,i,e,f,t))),i};
