"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var r=require("../../../../../bn.js@5.2.1/node_modules/bn.js/lib/bn.js"),t=require("../../../../../@ethersproject_bytes@5.7.0/node_modules/@ethersproject/bytes/lib.esm/index.js"),e=require("../../../../../@ethersproject_logger@5.7.0/node_modules/@ethersproject/logger/lib.esm/index.js"),i=require("./_version.js"),s=r.default.BN;const n=new e.Logger(i.version),o={},u=9007199254740991;let g=!1;class h{constructor(r,t){r!==o&&n.throwError("cannot call constructor directly; use BigNumber.from",e.Logger.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=t,this._isBigNumber=!0,Object.freeze(this)}fromTwos(r){return m(b(this).fromTwos(r))}toTwos(r){return m(b(this).toTwos(r))}abs(){return"-"===this._hex[0]?h.from(this._hex.substring(1)):this}add(r){return m(b(this).add(b(r)))}sub(r){return m(b(this).sub(b(r)))}div(r){return h.from(r).isZero()&&l("division-by-zero","div"),m(b(this).div(b(r)))}mul(r){return m(b(this).mul(b(r)))}mod(r){const t=b(r);return t.isNeg()&&l("division-by-zero","mod"),m(b(this).umod(t))}pow(r){const t=b(r);return t.isNeg()&&l("negative-power","pow"),m(b(this).pow(t))}and(r){const t=b(r);return(this.isNegative()||t.isNeg())&&l("unbound-bitwise-result","and"),m(b(this).and(t))}or(r){const t=b(r);return(this.isNegative()||t.isNeg())&&l("unbound-bitwise-result","or"),m(b(this).or(t))}xor(r){const t=b(r);return(this.isNegative()||t.isNeg())&&l("unbound-bitwise-result","xor"),m(b(this).xor(t))}mask(r){return(this.isNegative()||r<0)&&l("negative-width","mask"),m(b(this).maskn(r))}shl(r){return(this.isNegative()||r<0)&&l("negative-width","shl"),m(b(this).shln(r))}shr(r){return(this.isNegative()||r<0)&&l("negative-width","shr"),m(b(this).shrn(r))}eq(r){return b(this).eq(b(r))}lt(r){return b(this).lt(b(r))}lte(r){return b(this).lte(b(r))}gt(r){return b(this).gt(b(r))}gte(r){return b(this).gte(b(r))}isNegative(){return"-"===this._hex[0]}isZero(){return b(this).isZero()}toNumber(){try{return b(this).toNumber()}catch(r){l("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch(r){}return n.throwError("this platform does not support BigInt",e.Logger.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(10===arguments[0]?g||(g=!0,n.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):16===arguments[0]?n.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",e.Logger.errors.UNEXPECTED_ARGUMENT,{}):n.throwError("BigNumber.toString does not accept parameters",e.Logger.errors.UNEXPECTED_ARGUMENT,{})),b(this).toString(10)}toHexString(){return this._hex}toJSON(r){return{type:"BigNumber",hex:this.toHexString()}}static from(r){if(r instanceof h)return r;if("string"==typeof r)return r.match(/^-?0x[0-9a-f]+$/i)?new h(o,a(r)):r.match(/^-?[0-9]+$/)?new h(o,a(new s(r))):n.throwArgumentError("invalid BigNumber string","value",r);if("number"==typeof r)return r%1&&l("underflow","BigNumber.from",r),(r>=u||r<=-u)&&l("overflow","BigNumber.from",r),h.from(String(r));const e=r;if("bigint"==typeof e)return h.from(e.toString());if(t.isBytes(e))return h.from(t.hexlify(e));if(e)if(e.toHexString){const r=e.toHexString();if("string"==typeof r)return h.from(r)}else{let r=e._hex;if(null==r&&"BigNumber"===e.type&&(r=e.hex),"string"==typeof r&&(t.isHexString(r)||"-"===r[0]&&t.isHexString(r.substring(1))))return h.from(r)}return n.throwArgumentError("invalid BigNumber value","value",r)}static isBigNumber(r){return!(!r||!r._isBigNumber)}}function a(r){if("string"!=typeof r)return a(r.toString(16));if("-"===r[0])return"-"===(r=r.substring(1))[0]&&n.throwArgumentError("invalid hex","value",r),"0x00"===(r=a(r))?r:"-"+r;if("0x"!==r.substring(0,2)&&(r="0x"+r),"0x"===r)return"0x00";for(r.length%2&&(r="0x0"+r.substring(2));r.length>4&&"0x00"===r.substring(0,4);)r="0x"+r.substring(4);return r}function m(r){return h.from(a(r))}function b(r){const t=h.from(r).toHexString();return"-"===t[0]?new s("-"+t.substring(3),16):new s(t.substring(2),16)}function l(r,t,i){const s={fault:r,operation:t};return null!=i&&(s.value=i),n.throwError(r,e.Logger.errors.NUMERIC_FAULT,s)}exports.BigNumber=h,exports._base36To16=function(r){return new s(r,36).toString(16)};
