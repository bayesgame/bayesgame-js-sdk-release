"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("ethers"),t=require("../node_modules/.pnpm/@0xsequence_multicall@0.41.3/node_modules/@0xsequence/multicall/dist/0xsequence-multicall.esm.js"),r=require("../node_modules/.pnpm/@ethersproject_bignumber@5.7.0/node_modules/@ethersproject/bignumber/lib.esm/bignumber.js");function a(e){return r.BigNumber.isBigNumber(e)||-1!==["string","number"].indexOf(typeof e)}function n(e){return void 0===e||Array.isArray(e)&&e.every((e=>a(e)||Array.isArray(e)&&e.every(a)))}async function i(e,r){const a=r.map((e=>({to:e.target,data:e.callData}))),n=e.getProvider();if(!n)throw new Error("no provider");const i=new t.providers.MulticallProvider(n);return await Promise.all(a.map((e=>i.call(e))))}function l(e,t,r){let a={valid:!1,error:!1,result:void 0};if(e&&e.length>2&&e){a.valid=!0;try{a.error=!0,a.result=t.decodeFunctionResult(r,e)}catch(e){}}return a}exports.decodeCall=l,exports.isMethodArg=a,exports.isValidMethodArgs=n,exports.multicall=i,exports.useMultipleContractSingleData=async function(e,t,r,a,o,s){if(!t.length)throw new Error("useMultipleContractSingleData no addresses");let u=s?.gasRequired??0;void 0===u&&(u=0);const{fragment:c,callData:d}=function(e,t,r){const a=t?.getFunction(e),i=a&&n(r)?t?.encodeFunctionData(a,r):void 0;return{fragment:a,callData:i}}(a,r,o),g=[];return t.map((e=>{e&&g.push({target:e,callData:d,gasLimit:u})})),(await i(e,g)).map((e=>l(e,r,c??"")))},exports.useSingleContractWithCallData=async function(t,r,a,n){if(!a.length)throw new Error("useSingleContractWithCallData no call data");let o=n?.gasRequired??0;void 0===o&&(o=0);const s=a.map((e=>({target:r.address,callData:e,gasLimit:o}))),u=await i(t,s);if(u.length!=a.length)throw new Error("useSingleContractWithCallData call result length is not match");return u.map(((t,n)=>l(t,r?.interface,e.BaseContract.getInterface(r.interface).getFunction(a[n].substring(0,10)))))};
