"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("ethers"),s=require("../../node_modules/.pnpm/@ethersproject_hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/typed-data.js");const{defaultAbiCoder:t,keccak256:a,solidityPack:r}=e.utils,i=async(s,t,i,o)=>{if(o)return await n(s,t,i,o);const g=a(r(t,i)),u=a(r(["string","bytes32"],["Ethereum Signed Message:\n32",g])),c={...s._signingKey().signDigest(u)};return c.compact=c.r+c.s.substring(2)+e.ethers.utils.hexValue(c.v).substring(2),c.messageHash=g,c.domainHash="0x0000000000000000000000000000000000000000000000000000000000000000",console.debug("signData res:",c),c},n=async(t,i,n,o)=>{const g=s.TypedDataEncoder.hashDomain(o),u=a(r(i,n)),c=a(r(["bytes1","bytes1","bytes32","bytes32"],["0x19","0x01",g,u])),d={...t._signingKey().signDigest(c)};return d.compact=d.r+d.s.substring(2)+e.ethers.utils.hexValue(d.v).substring(2),d.messageHash=u,d.domainHash=g,d};exports.getSignature=async(e,s,t,a)=>(await i(e,s,t,a)).compact,exports.signData=i,exports.signTypedData=n;
