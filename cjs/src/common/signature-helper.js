"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("ethers"),s=require("../../node_modules/.pnpm/@ethersproject_hash@5.7.0/node_modules/@ethersproject/hash/lib.esm/typed-data.js");const{defaultAbiCoder:t,keccak256:a,solidityPack:r}=e.utils,i=async(s,t,i,o)=>{if(o)return await n(s,t,i,o);const u=a(r(t,i)),g=a(r(["string","bytes32"],["Ethereum Signed Message:\n32",u])),c={...s._signingKey().signDigest(g)};return c.compact=c.r+c.s.substring(2)+e.ethers.utils.hexValue(c.v).substring(2),c.messageHash=u,c.domainHash="0x0000000000000000000000000000000000000000000000000000000000000000",c},n=async(t,i,n,o)=>{const u=s.TypedDataEncoder.hashDomain(o),g=a(r(i,n)),c=a(r(["bytes1","bytes1","bytes32","bytes32"],["0x19","0x01",u,g])),h={...t._signingKey().signDigest(c)};return h.compact=h.r+h.s.substring(2)+e.ethers.utils.hexValue(h.v).substring(2),h.messageHash=g,h.domainHash=u,h};exports.getSignature=async(e,s,t,a)=>(await i(e,s,t,a)).compact,exports.signData=i,exports.signTypedData=n;
